<p-table class="prime-table report-table" [value]="filteredData" selectionMode="single" [(selection)]="selectedItem"
    [loading]="showSpinner" [paginator]="true" [rowsPerPageOptions]="[100,50,30]" [pageLinks]="4" [rows]="100"
    [responsive]="true" scrollable="true" scrollWidth="100%" scrollHeight="calc(100% - 54px)" #dt>
    <p-header class="table-head" [ngClass]="{'mobile-t-head': view.isMobile}">
        <app-button-group [class.t-i-button-group]="view.isMobile" [minimized]="view.isMobile">
            <app-i-button icon="i-refresh" title="Оновити дані" (iClick)="refresh()"></app-i-button>
        </app-button-group>

        <div class="button-wrap">
            <input class="s-serche" type="text" placeholder="Пошук" (input)="dt.filterGlobal($event.target.value, 'contains')">
        </div>
    </p-header>
    <p-column field="category" header="Користувач" [sortable]="true"></p-column>
    <p-column field="ordersCount" header="Замовлень" [sortable]="true"></p-column>
    <p-column field="sales" header="Ціна продажі" [sortable]="true"></p-column>
    <p-column field="closedCount" header="Закритих" [sortable]="true"></p-column>
    <p-column field="closedPrice" header="Ціна закритих" [sortable]="true"></p-column>
    <p-column field="openCount" header="Відкритих" [sortable]="true"></p-column>
    <p-column field="openPrice" header="Ціна відкритих" [sortable]="true"></p-column>
    <p-column field="canceledCount" header="Скасованих" [sortable]="true"></p-column>
    <!-- <p-column field="canceledPrice" header="Ціна скасованих" [sortable]="true"></p-column> -->

    <p-footerColumnGroup>
        <p-row>
            <p-column footer="# {{filteredData?.length}}"></p-column>
            <p-column footer="{{totals?.ordersCount}}"></p-column>
            <p-column footer="{{totals?.sales}}"></p-column>
            <p-column footer="{{totals?.closedCount}}"></p-column>
            <p-column footer="{{totals?.closedPrice}}"></p-column>
            <p-column footer="{{totals?.openCount}}"></p-column>
            <p-column footer="{{totals?.openPrice}}"></p-column>
            <p-column footer="{{totals?.canceledCount}}"></p-column>
            <!-- <p-column footer="{{totals?.canceledPrice}}"></p-column> -->
        </p-row>
    </p-footerColumnGroup>

</p-table>
<app-spinner *ngIf="showSpinner"></app-spinner>