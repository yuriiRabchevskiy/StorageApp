<p-dialog class="s-dialog" [visible]="true" [responsive]="true" showEffect="fade" [modal]="true" [closable]="false">
    <p-header>Користувач:
        <i>{{user.name}} {{user.surname}}</i>
    </p-header>
    <form [formGroup]="userForm" class="dialog-body" novalidate autocomplete="off">
        <div class="d-page-wrap">
            <div class="flex-row flex-wrap">
                <mat-form-field class="s-input-wrapper">
                    <input matInput placeholder="Логін" formControlName="login" required>
                </mat-form-field>
                <mat-form-field class="s-input-wrapper">
                    <mat-select placeholder="Роль" formControlName="role">
                        <mat-option *ngFor="let rol of userRoles" [value]="rol.value">
                            {{rol.label}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="flex-row flex-wrap">
                <mat-form-field class="s-input-wrapper">
                    <input matInput placeholder="І'мя" formControlName="name">
                </mat-form-field>
                <mat-form-field class="s-input-wrapper">
                    <input matInput placeholder="Фамілія" formControlName="surname">
                </mat-form-field>
            </div>
            <div class="flex-row flex-wrap">
                <mat-form-field class="s-input-wrapper">
                    <input type="tel" matInput placeholder="Телефон" formControlName="phone">
                </mat-form-field>
                <mat-form-field class="s-input-wrapper" *ngIf="role.value === UserRoleName.client" >
                    <input matInput type="number" placeholder="Знижка %" formControlName="discountPercent" [min]="0"
                        [max]="100" [customMin]="0" [customMax]="100">
                    <mat-error *ngIf="discountPercent.invalid">
                        Некоректне значення
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="flex-row flex-wrap flex-area-wrap">
                <mat-form-field class="s-area-wrapper">
                    <textarea matInput placeholder="Нотатки" formControlName="notes"></textarea>
                </mat-form-field>
            </div>
        </div>
    </form>
    <p-footer class="s-dialog-foot">
        <button class="d-s-button" type="submit" pButton icon="pi pi-check" (click)="save($event)" label="Зберегти"
            [disabled]="userForm.invalid"></button>
        <button class="d-s-button-cancel" type="button" pButton icon="pi pi-times" label="Закрити"
            (click)="closeDialog()"></button>
    </p-footer>
</p-dialog>